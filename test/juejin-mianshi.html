<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>

</body>
<script>
  // var arr = [[1, 2, 2], [3, 4, 5, 5], [6, 7, 8, 9, [11, 12, [12, 13, [14]]]], 10];

  // function slt(arr) {
  //   let newarr = []
  //   for (let i = 0; i < arr.length; i++) {
  //     newarr = newarr.concat(arr[i] instanceof Array ? slt(arr[i]) : arr[i])
  //   }
  //   return [...new Set(newarr)]
  // }
  // console.log(slt(arr))


  // function foo(arr1, arr2) {
  //   let newArr = [...arr1]

  //   for (let i = 0; i < arr2.length; i++) {
  //     let index = newArr.findIndex(
  //       (v, idx) => idx !== 0 && v.indexOf(arr2[i]) === -1 && newArr[idx - 1].indexOf(arr2[i]) === 0
  //     )
  //     console.log(index, 'index')
  //     newArr.splice(index, 0, arr2[i])
  //   }
  //   return newArr
  // }

  // let a = ['A1', 'A2', 'B1', 'B2', 'C1', 'C2', 'D1', 'D2']
  // let b = ['A', 'B', 'C', 'D']

  // for (let i = 0; i < a.length + 1; i++) {
  //   (i + 1) % 3 === 0 && (a.splice(i, 0, b.shift()))
  // }
  // console.log(foo(a, b), 'a')

  // for (let i = 0; i < 10; i++) {
  //   setTimeout(() => {
  //     console.log(i);
  //   }, 1000)
  // }


  // var b = 10;
  // (function b() {
  //   b = 20;
  //   console.log(b);
  // })();

  // var a = 10;
  // (function () {
  //   console.log(a)
  //   a = 5
  //   console.log(window.a)
  //   var a = 20;
  //   console.log(a)
  // })()
  // undefined 10 20

  // function sleep(time) {
  //   return new Promise(resolve => {
  //     setTimeout(_ => {
  //       resolve(true)
  //     }, time)
  //   })
  // }
  // sleep(1000).then(res => {
  //   console.log(res, 'a')
  // })

  // var obj = {
  //   '2': 3,
  //   '3': 4,
  //   'length': 2,
  //   'splice': Array.prototype.splice,
  //   'push': Array.prototype.push
  // }
  // obj.push(1)
  // obj.push(2)
  // console.log(Array.from(obj))

  // Number.prototype.add = function (num) {
  //   return this + num
  // }
  // Number.prototype.minus = function (num) {
  //   return this - num
  // }
  // console.log((5).add(3).minus(2))

  // var a = { n: 1 };
  // var b = a;
  // a.x = a = { n: 2 };
  // console.log(a)
  // console.log(b)

  // let arr = [1, 3, 66, 1, 55, 222, 6, 5]
  // function stor(arr) {
  //   for (let i = 0; i < arr.length - 1; i++) {
  //     for (let j = i + 1; j < arr.length; j++) {
  //       if (arr[i] < arr[j]) {
  //         [arr[i], arr[j]] = [arr[j], arr[i]]
  //       }
  //     }
  //   }
  // }

  // function stor2(arr) {
  //   let newArr = []
  //   for (let i = 0; i < arr.length; i++) {
  //     let res = arr[i]
  //     for (let j = i + 1; j < arr.length; j++) {
  //       if (res < arr[j]) {
  //         res = arr[j]
  //       }
  //     }
  //     newArr.push(res)
  //   }
  //   return newArr
  // }
  // stor(arr)
  // console.log(arr, 'a')
  // console.log(stor2(arr), 'a2')

  // let obj = { 1: 222, 2: 123, 5: 888 }
  // let newArr = []
  // for (let i = 1; i < 13; i++) {
  //   let result = obj[i] ? obj[i] : null
  //   newArr.push(result)
  // }
  // console.log(newArr)

  let nums1 = [1, 2, 2, 1], nums2 = [2, 2];
  let newArr = []
  for (let i = 0; i < nums1.length; i++) {
    nums2.indexOf(nums1[i]) !== -1 && newArr.push(nums1[i])
  }
  console.log(newArr)
</script>

</html>